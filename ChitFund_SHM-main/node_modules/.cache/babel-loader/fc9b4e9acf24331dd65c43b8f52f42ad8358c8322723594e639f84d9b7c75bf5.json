{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kjalf\\\\Downloads\\\\ChitFund_SHM-main\\\\ChitFund_SHM-main\\\\src\\\\components\\\\BiddingInterface.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { listGroups, getGroup, readGroupBasics, commitBid, revealBid, computeCommitHash } from '../web3/contracts.js';\nimport { getProvider } from '../web3/provider.js';\nimport { ethers } from 'ethers';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BiddingInterface = () => {\n  _s();\n  const [groups, setGroups] = useState([]);\n  const [selectedGroup, setSelectedGroup] = useState('');\n  const [basics, setBasics] = useState(null); // { cfg, currentCycle, phase }\n  const [commitAmount, setCommitAmount] = useState('');\n  const [saltHex, setSaltHex] = useState('');\n  const [commitHash, setCommitHash] = useState('');\n  const [revealAmount, setRevealAmount] = useState('');\n  const [revealSalt, setRevealSalt] = useState('');\n  const [status, setStatus] = useState('');\n  const [error, setError] = useState('');\n  const [nowSec, setNowSec] = useState(Math.floor(Date.now() / 1000));\n\n  // Live bidding state\n  const [biddingAddress, setBiddingAddress] = useState('');\n  const [winner, setWinner] = useState('');\n  const [winningAmount, setWinningAmount] = useState('');\n  const [reveals, setReveals] = useState([]); // { bidder, amount }\n\n  useEffect(() => {\n    let mounted = true;\n    async function load() {\n      try {\n        const addrs = await listGroups();\n        if (mounted) setGroups(addrs);\n      } catch (e) {\n        setError((e === null || e === void 0 ? void 0 : e.message) || 'Failed to load groups');\n      }\n    }\n    load();\n    const t = setInterval(() => setNowSec(Math.floor(Date.now() / 1000)), 1000);\n    return () => {\n      mounted = false;\n      clearInterval(t);\n    };\n  }, []);\n  useEffect(() => {\n    let mounted = true;\n    async function fetchBasics() {\n      if (!selectedGroup) {\n        setBasics(null);\n        return;\n      }\n      try {\n        const b = await readGroupBasics(selectedGroup);\n        if (mounted) setBasics(b);\n      } catch (e) {\n        setError((e === null || e === void 0 ? void 0 : e.message) || 'Failed to read group basics');\n        setBasics(null);\n      }\n    }\n    fetchBasics();\n    const t = setInterval(fetchBasics, 10000);\n    return () => {\n      mounted = false;\n      clearInterval(t);\n    };\n  }, [selectedGroup]);\n  useEffect(() => {\n    if (!commitAmount || !saltHex) {\n      setCommitHash('');\n      return;\n    }\n    try {\n      const hash = computeCommitHash(commitAmount, saltHex);\n      setCommitHash(hash);\n    } catch {\n      setCommitHash('');\n    }\n  }, [commitAmount, saltHex]);\n  const generateSalt = () => {\n    const bytes = ethers.randomBytes(32);\n    const hex = ethers.hexlify(bytes);\n    setSaltHex(hex);\n    setRevealSalt(hex);\n  };\n  const phaseLabel = p => p === 0 ? 'Commit' : p === 1 ? 'Reveal' : p === 2 ? 'Finalized' : 'Unknown';\n  const computeWindows = () => {\n    if (!basics) return null;\n    const cfg = basics.cfg;\n    const cycleStart = Number(cfg.startTime) + basics.currentCycle * Number(cfg.periodDuration);\n    const commitEnd = cycleStart + Number(cfg.biddingCommitDuration);\n    const revealEnd = commitEnd + Number(cfg.biddingRevealDuration);\n    return {\n      cycleStart,\n      commitEnd,\n      revealEnd\n    };\n  };\n  const handleCommit = async () => {\n    if (!selectedGroup) return;\n    try {\n      setStatus('Submitting commit...');\n      setError('');\n      await commitBid(selectedGroup, commitAmount, saltHex);\n      setStatus('Commit submitted');\n    } catch (e) {\n      setError((e === null || e === void 0 ? void 0 : e.shortMessage) || (e === null || e === void 0 ? void 0 : e.message) || 'Commit failed');\n      setStatus('');\n    }\n  };\n  const handleReveal = async () => {\n    if (!selectedGroup) return;\n    try {\n      setStatus('Submitting reveal...');\n      setError('');\n      await revealBid(selectedGroup, revealAmount, revealSalt);\n      setStatus('Reveal submitted');\n    } catch (e) {\n      setError((e === null || e === void 0 ? void 0 : e.shortMessage) || (e === null || e === void 0 ? void 0 : e.message) || 'Reveal failed');\n      setStatus('');\n    }\n  };\n\n  // Discover and subscribe to the cycle's bidding contract\n  useEffect(() => {\n    let unsub = () => {};\n    async function wire() {\n      try {\n        setBiddingAddress('');\n        setWinner('');\n        setWinningAmount('');\n        setReveals([]);\n        if (!selectedGroup || !basics) return;\n        const group = getGroup(selectedGroup, true);\n        const addr = await group.cycleBidding(basics.currentCycle);\n        if (addr && ethers.isAddress(addr) && addr !== ethers.ZeroAddress) {\n          setBiddingAddress(addr);\n          const provider = getProvider();\n          const bsAbi = ['event BidCommitted(address indexed bidder)', 'event BidRevealed(address indexed bidder, uint256 amount)', 'event WinnerSelected(address indexed winner, uint256 amount)', 'function winner() view returns (address)', 'function winningAmount() view returns (uint256)'];\n          const bs = new ethers.Contract(addr, bsAbi, provider);\n          // Load current state\n          try {\n            const w = await bs.winner();\n            const wa = await bs.winningAmount();\n            setWinner(w);\n            setWinningAmount(wa.toString());\n          } catch {}\n          // Subscribe to events\n          const onReveal = (bidder, amount) => {\n            setReveals(prev => [{\n              bidder,\n              amount: amount.toString()\n            }, ...prev].slice(0, 50));\n            // optimistic update\n            try {\n              setWinningAmount(cur => {\n                const curBn = cur ? ethers.toBigInt(cur) : undefined;\n                const amt = ethers.toBigInt(amount);\n                if (!winner || curBn !== undefined && amt < curBn) {\n                  setWinner(bidder);\n                  return amt.toString();\n                }\n                return cur;\n              });\n            } catch {}\n          };\n          const onWinner = (w, amt) => {\n            setWinner(w);\n            setWinningAmount(amt.toString());\n          };\n          bs.on('BidRevealed', onReveal);\n          bs.on('WinnerSelected', onWinner);\n          unsub = () => {\n            bs.off('BidRevealed', onReveal);\n            bs.off('WinnerSelected', onWinner);\n          };\n        }\n      } catch (e) {\n        // ignore wiring errors\n      }\n    }\n    wire();\n    return () => {\n      try {\n        unsub();\n      } catch {}\n    };\n  }, [selectedGroup, basics]);\n  const windows = computeWindows();\n  const now = nowSec;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Bidding Interface\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Commit and reveal your bids for the current cycle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"component-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"component-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Select Group\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"component-body\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '10px',\n            alignItems: 'center',\n            flexWrap: 'wrap'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"form-input\",\n            value: selectedGroup,\n            onChange: e => setSelectedGroup(e.target.value),\n            style: {\n              minWidth: '360px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"-- Select a group address --\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this), groups.map(addr => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: addr,\n              children: addr\n            }, addr, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), basics && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '15px',\n              color: '#718096'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Cycle: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: basics.currentCycle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 30\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Phase: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: phaseLabel(basics.phase)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 30\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 17\n            }, this), windows && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Commit ends: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: new Date(windows.commitEnd * 1000).toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 40\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Reveal ends: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: new Date(windows.revealEnd * 1000).toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 40\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Now: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: new Date(now * 1000).toLocaleTimeString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 32\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this), biddingAddress && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"component-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"component-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Live Bidding Status\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"component-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: '1fr 1fr',\n            gap: '16px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '12px',\n                color: '#718096'\n              },\n              children: \"Bidding Contract\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: '600'\n              },\n              children: biddingAddress\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '12px',\n                color: '#718096'\n              },\n              children: \"Current Winner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: '600'\n              },\n              children: winner || '-'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '12px',\n                color: '#718096'\n              },\n              children: \"Winning Amount\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: '600'\n              },\n              children: winningAmount || '-'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '12px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Recent Reveals\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 15\n          }, this), reveals.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#718096'\n            },\n            children: \"No reveals yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              maxHeight: '200px',\n              overflowY: 'auto'\n            },\n            children: reveals.map((r, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                padding: '6px 0',\n                borderBottom: '1px solid #e2e8f0'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: r.bidder\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: r.amount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 23\n              }, this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"component-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"component-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Commit Bid\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"component-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: '1fr 1fr',\n            gap: '16px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Amount (uint256)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-input\",\n              type: \"number\",\n              value: commitAmount,\n              onChange: e => setCommitAmount(e.target.value),\n              placeholder: \"e.g. 100\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Salt (bytes32 hex)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: '8px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"form-input\",\n                type: \"text\",\n                value: saltHex,\n                onChange: e => setSaltHex(e.target.value),\n                placeholder: \"0x...32 bytes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-secondary\",\n                onClick: generateSalt,\n                children: \"Random\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), commitHash && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '10px',\n            color: '#718096'\n          },\n          children: [\"Commit hash: \", /*#__PURE__*/_jsxDEV(\"code\", {\n            children: commitHash\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 79\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '12px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: handleCommit,\n            disabled: !selectedGroup || !commitAmount || !saltHex,\n            children: \"Submit Commit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"component-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"component-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Reveal Bid\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"component-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: '1fr 1fr',\n            gap: '16px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Amount (uint256)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-input\",\n              type: \"number\",\n              value: revealAmount,\n              onChange: e => setRevealAmount(e.target.value),\n              placeholder: \"Must match commit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Salt (bytes32 hex)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-input\",\n              type: \"text\",\n              value: revealSalt,\n              onChange: e => setRevealSalt(e.target.value),\n              placeholder: \"Must match commit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '12px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: handleReveal,\n            disabled: !selectedGroup || !revealAmount || !revealSalt,\n            children: \"Submit Reveal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '10px'\n      },\n      children: [status && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#2f855a'\n        },\n        children: status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 20\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#c53030'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 5\n  }, this);\n};\n_s(BiddingInterface, \"f04ZaH8+YVlt3x/CA0XUr4ROfps=\");\n_c = BiddingInterface;\nexport default BiddingInterface;\nvar _c;\n$RefreshReg$(_c, \"BiddingInterface\");","map":{"version":3,"names":["React","useState","useEffect","listGroups","getGroup","readGroupBasics","commitBid","revealBid","computeCommitHash","getProvider","ethers","jsxDEV","_jsxDEV","Fragment","_Fragment","BiddingInterface","_s","groups","setGroups","selectedGroup","setSelectedGroup","basics","setBasics","commitAmount","setCommitAmount","saltHex","setSaltHex","commitHash","setCommitHash","revealAmount","setRevealAmount","revealSalt","setRevealSalt","status","setStatus","error","setError","nowSec","setNowSec","Math","floor","Date","now","biddingAddress","setBiddingAddress","winner","setWinner","winningAmount","setWinningAmount","reveals","setReveals","mounted","load","addrs","e","message","t","setInterval","clearInterval","fetchBasics","b","hash","generateSalt","bytes","randomBytes","hex","hexlify","phaseLabel","p","computeWindows","cfg","cycleStart","Number","startTime","currentCycle","periodDuration","commitEnd","biddingCommitDuration","revealEnd","biddingRevealDuration","handleCommit","shortMessage","handleReveal","unsub","wire","group","addr","cycleBidding","isAddress","ZeroAddress","provider","bsAbi","bs","Contract","w","wa","toString","onReveal","bidder","amount","prev","slice","cur","curBn","toBigInt","undefined","amt","onWinner","on","off","windows","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","display","gap","alignItems","flexWrap","value","onChange","target","minWidth","map","color","phase","toLocaleString","toLocaleTimeString","gridTemplateColumns","fontSize","fontWeight","marginTop","length","maxHeight","overflowY","r","idx","justifyContent","padding","borderBottom","type","placeholder","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/kjalf/Downloads/ChitFund_SHM-main/ChitFund_SHM-main/src/components/BiddingInterface.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { listGroups, getGroup, readGroupBasics, commitBid, revealBid, computeCommitHash } from '../web3/contracts.js';\nimport { getProvider } from '../web3/provider.js';\nimport { ethers } from 'ethers';\n\nconst BiddingInterface = () => {\n  const [groups, setGroups] = useState([]);\n  const [selectedGroup, setSelectedGroup] = useState('');\n  const [basics, setBasics] = useState(null); // { cfg, currentCycle, phase }\n  const [commitAmount, setCommitAmount] = useState('');\n  const [saltHex, setSaltHex] = useState('');\n  const [commitHash, setCommitHash] = useState('');\n  const [revealAmount, setRevealAmount] = useState('');\n  const [revealSalt, setRevealSalt] = useState('');\n  const [status, setStatus] = useState('');\n  const [error, setError] = useState('');\n  const [nowSec, setNowSec] = useState(Math.floor(Date.now() / 1000));\n\n  // Live bidding state\n  const [biddingAddress, setBiddingAddress] = useState('');\n  const [winner, setWinner] = useState('');\n  const [winningAmount, setWinningAmount] = useState('');\n  const [reveals, setReveals] = useState([]); // { bidder, amount }\n\n  useEffect(() => {\n    let mounted = true;\n    async function load() {\n      try {\n        const addrs = await listGroups();\n        if (mounted) setGroups(addrs);\n      } catch (e) {\n        setError(e?.message || 'Failed to load groups');\n      }\n    }\n    load();\n    const t = setInterval(() => setNowSec(Math.floor(Date.now() / 1000)), 1000);\n    return () => { mounted = false; clearInterval(t); };\n  }, []);\n\n  useEffect(() => {\n    let mounted = true;\n    async function fetchBasics() {\n      if (!selectedGroup) { setBasics(null); return; }\n      try {\n        const b = await readGroupBasics(selectedGroup);\n        if (mounted) setBasics(b);\n      } catch (e) {\n        setError(e?.message || 'Failed to read group basics');\n        setBasics(null);\n      }\n    }\n    fetchBasics();\n    const t = setInterval(fetchBasics, 10_000);\n    return () => { mounted = false; clearInterval(t); };\n  }, [selectedGroup]);\n\n  useEffect(() => {\n    if (!commitAmount || !saltHex) { setCommitHash(''); return; }\n    try {\n      const hash = computeCommitHash(commitAmount, saltHex);\n      setCommitHash(hash);\n    } catch { setCommitHash(''); }\n  }, [commitAmount, saltHex]);\n\n  const generateSalt = () => {\n    const bytes = ethers.randomBytes(32);\n    const hex = ethers.hexlify(bytes);\n    setSaltHex(hex);\n    setRevealSalt(hex);\n  };\n\n  const phaseLabel = (p) => p === 0 ? 'Commit' : p === 1 ? 'Reveal' : p === 2 ? 'Finalized' : 'Unknown';\n\n  const computeWindows = () => {\n    if (!basics) return null;\n    const cfg = basics.cfg;\n    const cycleStart = Number(cfg.startTime) + basics.currentCycle * Number(cfg.periodDuration);\n    const commitEnd = cycleStart + Number(cfg.biddingCommitDuration);\n    const revealEnd = commitEnd + Number(cfg.biddingRevealDuration);\n    return { cycleStart, commitEnd, revealEnd };\n  };\n\n  const handleCommit = async () => {\n    if (!selectedGroup) return;\n    try {\n      setStatus('Submitting commit...'); setError('');\n      await commitBid(selectedGroup, commitAmount, saltHex);\n      setStatus('Commit submitted');\n    } catch (e) {\n      setError(e?.shortMessage || e?.message || 'Commit failed'); setStatus('');\n    }\n  };\n\n  const handleReveal = async () => {\n    if (!selectedGroup) return;\n    try {\n      setStatus('Submitting reveal...'); setError('');\n      await revealBid(selectedGroup, revealAmount, revealSalt);\n      setStatus('Reveal submitted');\n    } catch (e) {\n      setError(e?.shortMessage || e?.message || 'Reveal failed'); setStatus('');\n    }\n  };\n\n  // Discover and subscribe to the cycle's bidding contract\n  useEffect(() => {\n    let unsub = () => {};\n    async function wire() {\n      try {\n        setBiddingAddress(''); setWinner(''); setWinningAmount(''); setReveals([]);\n        if (!selectedGroup || !basics) return;\n        const group = getGroup(selectedGroup, true);\n        const addr = await group.cycleBidding(basics.currentCycle);\n        if (addr && ethers.isAddress(addr) && addr !== ethers.ZeroAddress) {\n          setBiddingAddress(addr);\n          const provider = getProvider();\n          const bsAbi = [\n            'event BidCommitted(address indexed bidder)',\n            'event BidRevealed(address indexed bidder, uint256 amount)',\n            'event WinnerSelected(address indexed winner, uint256 amount)',\n            'function winner() view returns (address)',\n            'function winningAmount() view returns (uint256)'\n          ];\n          const bs = new ethers.Contract(addr, bsAbi, provider);\n          // Load current state\n          try {\n            const w = await bs.winner();\n            const wa = await bs.winningAmount();\n            setWinner(w);\n            setWinningAmount(wa.toString());\n          } catch {}\n          // Subscribe to events\n          const onReveal = (bidder, amount) => {\n            setReveals(prev => [{ bidder, amount: amount.toString() }, ...prev].slice(0, 50));\n            // optimistic update\n            try { setWinningAmount((cur) => {\n              const curBn = cur ? ethers.toBigInt(cur) : undefined;\n              const amt = ethers.toBigInt(amount);\n              if (!winner || (curBn !== undefined && amt < curBn)) {\n                setWinner(bidder);\n                return amt.toString();\n              }\n              return cur;\n            }); } catch {}\n          };\n          const onWinner = (w, amt) => {\n            setWinner(w);\n            setWinningAmount(amt.toString());\n          };\n          bs.on('BidRevealed', onReveal);\n          bs.on('WinnerSelected', onWinner);\n          unsub = () => {\n            bs.off('BidRevealed', onReveal);\n            bs.off('WinnerSelected', onWinner);\n          };\n        }\n      } catch (e) {\n        // ignore wiring errors\n      }\n    }\n    wire();\n    return () => { try { unsub(); } catch {} };\n  }, [selectedGroup, basics]);\n\n  const windows = computeWindows();\n  const now = nowSec;\n\n  return (\n    <div className=\"dashboard\">\n      <div className=\"dashboard-header\">\n        <h1>Bidding Interface</h1>\n        <p>Commit and reveal your bids for the current cycle</p>\n      </div>\n\n      <div className=\"component-card\">\n        <div className=\"component-header\">\n          <h2>Select Group</h2>\n        </div>\n        <div className=\"component-body\">\n          <div style={{ display: 'flex', gap: '10px', alignItems: 'center', flexWrap: 'wrap' }}>\n            <select className=\"form-input\" value={selectedGroup} onChange={(e) => setSelectedGroup(e.target.value)} style={{ minWidth: '360px' }}>\n              <option value=\"\">-- Select a group address --</option>\n              {groups.map(addr => (\n                <option key={addr} value={addr}>{addr}</option>\n              ))}\n            </select>\n            {basics && (\n              <div style={{ display: 'flex', gap: '15px', color: '#718096' }}>\n                <span>Cycle: <strong>{basics.currentCycle}</strong></span>\n                <span>Phase: <strong>{phaseLabel(basics.phase)}</strong></span>\n                {windows && (\n                  <>\n                    <span>Commit ends: <strong>{new Date(windows.commitEnd * 1000).toLocaleString()}</strong></span>\n                    <span>Reveal ends: <strong>{new Date(windows.revealEnd * 1000).toLocaleString()}</strong></span>\n                    <span>Now: <strong>{new Date(now * 1000).toLocaleTimeString()}</strong></span>\n                  </>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Live status */}\n      {biddingAddress && (\n        <div className=\"component-card\">\n          <div className=\"component-header\">\n            <h2>Live Bidding Status</h2>\n          </div>\n          <div className=\"component-body\">\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '16px' }}>\n              <div>\n                <div style={{ fontSize: '12px', color: '#718096' }}>Bidding Contract</div>\n                <div style={{ fontWeight: '600' }}>{biddingAddress}</div>\n              </div>\n              <div>\n                <div style={{ fontSize: '12px', color: '#718096' }}>Current Winner</div>\n                <div style={{ fontWeight: '600' }}>{winner || '-'}</div>\n                <div style={{ fontSize: '12px', color: '#718096' }}>Winning Amount</div>\n                <div style={{ fontWeight: '600' }}>{winningAmount || '-'}</div>\n              </div>\n            </div>\n            <div style={{ marginTop: '12px' }}>\n              <h4>Recent Reveals</h4>\n              {reveals.length === 0 ? (\n                <div style={{ color: '#718096' }}>No reveals yet.</div>\n              ) : (\n                <div style={{ maxHeight: '200px', overflowY: 'auto' }}>\n                  {reveals.map((r, idx) => (\n                    <div key={idx} style={{ display: 'flex', justifyContent: 'space-between', padding: '6px 0', borderBottom: '1px solid #e2e8f0' }}>\n                      <span>{r.bidder}</span>\n                      <span>{r.amount}</span>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Commit */}\n      <div className=\"component-card\">\n        <div className=\"component-header\">\n          <h2>Commit Bid</h2>\n        </div>\n        <div className=\"component-body\">\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '16px' }}>\n            <div className=\"form-group\">\n              <label className=\"form-label\">Amount (uint256)</label>\n              <input className=\"form-input\" type=\"number\" value={commitAmount} onChange={(e) => setCommitAmount(e.target.value)} placeholder=\"e.g. 100\" />\n            </div>\n            <div className=\"form-group\">\n              <label className=\"form-label\">Salt (bytes32 hex)</label>\n              <div style={{ display: 'flex', gap: '8px' }}>\n                <input className=\"form-input\" type=\"text\" value={saltHex} onChange={(e) => setSaltHex(e.target.value)} placeholder=\"0x...32 bytes\" />\n                <button className=\"btn btn-secondary\" onClick={generateSalt}>Random</button>\n              </div>\n            </div>\n          </div>\n          {commitHash && (\n            <div style={{ marginTop: '10px', color: '#718096' }}>Commit hash: <code>{commitHash}</code></div>\n          )}\n          <div style={{ marginTop: '12px' }}>\n            <button className=\"btn btn-primary\" onClick={handleCommit} disabled={!selectedGroup || !commitAmount || !saltHex}>Submit Commit</button>\n          </div>\n        </div>\n      </div>\n\n      {/* Reveal */}\n      <div className=\"component-card\">\n        <div className=\"component-header\">\n          <h2>Reveal Bid</h2>\n        </div>\n        <div className=\"component-body\">\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '16px' }}>\n            <div className=\"form-group\">\n              <label className=\"form-label\">Amount (uint256)</label>\n              <input className=\"form-input\" type=\"number\" value={revealAmount} onChange={(e) => setRevealAmount(e.target.value)} placeholder=\"Must match commit\" />\n            </div>\n            <div className=\"form-group\">\n              <label className=\"form-label\">Salt (bytes32 hex)</label>\n              <input className=\"form-input\" type=\"text\" value={revealSalt} onChange={(e) => setRevealSalt(e.target.value)} placeholder=\"Must match commit\" />\n            </div>\n          </div>\n          <div style={{ marginTop: '12px' }}>\n            <button className=\"btn btn-primary\" onClick={handleReveal} disabled={!selectedGroup || !revealAmount || !revealSalt}>Submit Reveal</button>\n          </div>\n        </div>\n      </div>\n\n      <div style={{ marginTop: '10px' }}>\n        {status && <div style={{ color: '#2f855a' }}>{status}</div>}\n        {error && <div style={{ color: '#c53030' }}>{error}</div>}\n      </div>\n    </div>\n  );\n};\n\nexport default BiddingInterface;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}