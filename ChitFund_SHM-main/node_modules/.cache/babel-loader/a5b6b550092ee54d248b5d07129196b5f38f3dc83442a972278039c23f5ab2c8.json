{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kjalf\\\\Downloads\\\\ChitFund_SHM-main\\\\ChitFund_SHM-main\\\\src\\\\components\\\\PaymentGateway.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { listGroups, readGroupBasics, contribute, erc20Allowance, erc20Approve } from '../web3/contracts.js';\nimport { ethers } from 'ethers';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PaymentGateway = () => {\n  _s();\n  const [groups, setGroups] = useState([]);\n  const [selectedGroup, setSelectedGroup] = useState('');\n  const [basics, setBasics] = useState(null); // { cfg, currentCycle, phase }\n  const [amountWei, setAmountWei] = useState('');\n  const [status, setStatus] = useState('');\n  const [error, setError] = useState('');\n  const ZERO = '0x0000000000000000000000000000000000000000';\n  useEffect(() => {\n    let mounted = true;\n    async function load() {\n      try {\n        const addrs = await listGroups();\n        if (mounted) setGroups(addrs);\n      } catch (e) {\n        setError((e === null || e === void 0 ? void 0 : e.message) || 'Failed to load groups');\n      }\n    }\n    load();\n    return () => {\n      mounted = false;\n    };\n  }, []);\n  useEffect(() => {\n    let mounted = true;\n    async function fetchBasics() {\n      if (!selectedGroup) {\n        setBasics(null);\n        return;\n      }\n      try {\n        const b = await readGroupBasics(selectedGroup);\n        if (mounted) {\n          var _b$cfg, _b$cfg$contributionAm, _b$cfg$contributionAm2;\n          setBasics(b);\n          setAmountWei((b === null || b === void 0 ? void 0 : (_b$cfg = b.cfg) === null || _b$cfg === void 0 ? void 0 : (_b$cfg$contributionAm = _b$cfg.contributionAmount) === null || _b$cfg$contributionAm === void 0 ? void 0 : (_b$cfg$contributionAm2 = _b$cfg$contributionAm.toString) === null || _b$cfg$contributionAm2 === void 0 ? void 0 : _b$cfg$contributionAm2.call(_b$cfg$contributionAm)) || '');\n        }\n      } catch (e) {\n        setError((e === null || e === void 0 ? void 0 : e.message) || 'Failed to read group config');\n        setBasics(null);\n      }\n    }\n    fetchBasics();\n    return () => {\n      mounted = false;\n    };\n  }, [selectedGroup]);\n  const isNative = basics && basics.cfg.currency === ZERO;\n  const tokenAddress = basics && basics.cfg.currency;\n  const ensureApprovalIfRequired = async () => {\n    if (!basics || isNative) return true;\n    try {\n      const provider = new ethers.BrowserProvider(window.ethereum);\n      const signer = await provider.getSigner();\n      const owner = await signer.getAddress();\n      const allowance = await erc20Allowance(tokenAddress, owner, selectedGroup);\n      if (allowance && allowance >= amountWei) return true;\n      setStatus('Approving token...');\n      await erc20Approve(tokenAddress, selectedGroup, amountWei);\n      return true;\n    } catch (e) {\n      setError((e === null || e === void 0 ? void 0 : e.shortMessage) || (e === null || e === void 0 ? void 0 : e.message) || 'Approval failed');\n      return false;\n    }\n  };\n  const handleContribute = async () => {\n    if (!selectedGroup || !amountWei) return;\n    setStatus('');\n    setError('');\n    try {\n      if (!(await ensureApprovalIfRequired())) return;\n      setStatus('Submitting contribution...');\n      await contribute(selectedGroup, amountWei, isNative);\n      setStatus('Contribution submitted');\n    } catch (e) {\n      setError((e === null || e === void 0 ? void 0 : e.shortMessage) || (e === null || e === void 0 ? void 0 : e.message) || 'Contribution failed');\n      setStatus('');\n    }\n  };\n  const formattedContribution = basics ? (() => {\n    try {\n      return `${ethers.formatEther(basics.cfg.contributionAmount)} ETH`;\n    } catch {\n      return `${basics.cfg.contributionAmount} wei`;\n    }\n  })() : '-';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Payment Gateway\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Make your contribution to the selected chit group\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"component-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"component-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Select Group\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"component-body\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '10px',\n            alignItems: 'center',\n            flexWrap: 'wrap'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"form-input\",\n            value: selectedGroup,\n            onChange: e => setSelectedGroup(e.target.value),\n            style: {\n              minWidth: '360px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"-- Select a group address --\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this), groups.map(addr => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: addr,\n              children: addr\n            }, addr, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), basics && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '15px',\n              color: '#718096'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Currency: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: isNative ? 'Native' : tokenAddress\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Contribution: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: formattedContribution\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Cycle: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: basics.currentCycle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 30\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"component-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"component-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Contribute\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"component-body\",\n        children: basics ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: [\"Amount (\", isNative ? 'wei (value sent)' : 'wei (token amount)', \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-input\",\n              type: \"number\",\n              value: amountWei,\n              onChange: e => setAmountWei(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '12px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              onClick: handleContribute,\n              disabled: !selectedGroup || !amountWei,\n              children: \"Submit Contribution\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#718096'\n          },\n          children: \"Select a group to see contribution details.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '10px'\n      },\n      children: [status && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#2f855a'\n        },\n        children: status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 20\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#c53030'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n};\n_s(PaymentGateway, \"gyGYkT0y4FiwhCAeBg/BcsFcZq8=\");\n_c = PaymentGateway;\nexport default PaymentGateway;\nvar _c;\n$RefreshReg$(_c, \"PaymentGateway\");","map":{"version":3,"names":["React","useState","useEffect","listGroups","readGroupBasics","contribute","erc20Allowance","erc20Approve","ethers","jsxDEV","_jsxDEV","Fragment","_Fragment","PaymentGateway","_s","groups","setGroups","selectedGroup","setSelectedGroup","basics","setBasics","amountWei","setAmountWei","status","setStatus","error","setError","ZERO","mounted","load","addrs","e","message","fetchBasics","b","_b$cfg","_b$cfg$contributionAm","_b$cfg$contributionAm2","cfg","contributionAmount","toString","call","isNative","currency","tokenAddress","ensureApprovalIfRequired","provider","BrowserProvider","window","ethereum","signer","getSigner","owner","getAddress","allowance","shortMessage","handleContribute","formattedContribution","formatEther","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","display","gap","alignItems","flexWrap","value","onChange","target","minWidth","map","addr","color","currentCycle","type","marginTop","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/kjalf/Downloads/ChitFund_SHM-main/ChitFund_SHM-main/src/components/PaymentGateway.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { listGroups, readGroupBasics, contribute, erc20Allowance, erc20Approve } from '../web3/contracts.js';\nimport { ethers } from 'ethers';\n\nconst PaymentGateway = () => {\n  const [groups, setGroups] = useState([]);\n  const [selectedGroup, setSelectedGroup] = useState('');\n  const [basics, setBasics] = useState(null); // { cfg, currentCycle, phase }\n  const [amountWei, setAmountWei] = useState('');\n  const [status, setStatus] = useState('');\n  const [error, setError] = useState('');\n  const ZERO = '0x0000000000000000000000000000000000000000';\n\n  useEffect(() => {\n    let mounted = true;\n    async function load() {\n      try {\n        const addrs = await listGroups();\n        if (mounted) setGroups(addrs);\n      } catch (e) {\n        setError(e?.message || 'Failed to load groups');\n      }\n    }\n    load();\n    return () => { mounted = false; };\n  }, []);\n\n  useEffect(() => {\n    let mounted = true;\n    async function fetchBasics() {\n      if (!selectedGroup) { setBasics(null); return; }\n      try {\n        const b = await readGroupBasics(selectedGroup);\n        if (mounted) {\n          setBasics(b);\n          setAmountWei(b?.cfg?.contributionAmount?.toString?.() || '');\n        }\n      } catch (e) {\n        setError(e?.message || 'Failed to read group config');\n        setBasics(null);\n      }\n    }\n    fetchBasics();\n    return () => { mounted = false; };\n  }, [selectedGroup]);\n\n  const isNative = basics && (basics.cfg.currency === ZERO);\n  const tokenAddress = basics && basics.cfg.currency;\n\n  const ensureApprovalIfRequired = async () => {\n    if (!basics || isNative) return true;\n    try {\n      const provider = new ethers.BrowserProvider(window.ethereum);\n      const signer = await provider.getSigner();\n      const owner = await signer.getAddress();\n      const allowance = await erc20Allowance(tokenAddress, owner, selectedGroup);\n      if (allowance && allowance >= amountWei) return true;\n      setStatus('Approving token...');\n      await erc20Approve(tokenAddress, selectedGroup, amountWei);\n      return true;\n    } catch (e) {\n      setError(e?.shortMessage || e?.message || 'Approval failed');\n      return false;\n    }\n  };\n\n  const handleContribute = async () => {\n    if (!selectedGroup || !amountWei) return;\n    setStatus(''); setError('');\n    try {\n      if (!(await ensureApprovalIfRequired())) return;\n      setStatus('Submitting contribution...');\n      await contribute(selectedGroup, amountWei, isNative);\n      setStatus('Contribution submitted');\n    } catch (e) {\n      setError(e?.shortMessage || e?.message || 'Contribution failed');\n      setStatus('');\n    }\n  };\n\n  const formattedContribution = basics ? (() => {\n    try { return `${ethers.formatEther(basics.cfg.contributionAmount)} ETH`; } catch { return `${basics.cfg.contributionAmount} wei`; }\n  })() : '-';\n\n  return (\n    <div className=\"dashboard\">\n      <div className=\"dashboard-header\">\n        <h1>Payment Gateway</h1>\n        <p>Make your contribution to the selected chit group</p>\n      </div>\n\n      <div className=\"component-card\">\n        <div className=\"component-header\">\n          <h2>Select Group</h2>\n        </div>\n        <div className=\"component-body\">\n          <div style={{ display: 'flex', gap: '10px', alignItems: 'center', flexWrap: 'wrap' }}>\n            <select className=\"form-input\" value={selectedGroup} onChange={(e) => setSelectedGroup(e.target.value)} style={{ minWidth: '360px' }}>\n              <option value=\"\">-- Select a group address --</option>\n              {groups.map(addr => (\n                <option key={addr} value={addr}>{addr}</option>\n              ))}\n            </select>\n            {basics && (\n              <div style={{ display: 'flex', gap: '15px', color: '#718096' }}>\n                <span>Currency: <strong>{isNative ? 'Native' : tokenAddress}</strong></span>\n                <span>Contribution: <strong>{formattedContribution}</strong></span>\n                <span>Cycle: <strong>{basics.currentCycle}</strong></span>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"component-card\">\n        <div className=\"component-header\">\n          <h2>Contribute</h2>\n        </div>\n        <div className=\"component-body\">\n          {basics ? (\n            <>\n              <div className=\"form-group\">\n                <label className=\"form-label\">Amount ({isNative ? 'wei (value sent)' : 'wei (token amount)'})</label>\n                <input className=\"form-input\" type=\"number\" value={amountWei} onChange={(e) => setAmountWei(e.target.value)} />\n              </div>\n              <div style={{ marginTop: '12px' }}>\n                <button className=\"btn btn-primary\" onClick={handleContribute} disabled={!selectedGroup || !amountWei}>Submit Contribution</button>\n              </div>\n            </>\n          ) : (\n            <div style={{ color: '#718096' }}>Select a group to see contribution details.</div>\n          )}\n        </div>\n      </div>\n\n      <div style={{ marginTop: '10px' }}>\n        {status && <div style={{ color: '#2f855a' }}>{status}</div>}\n        {error && <div style={{ color: '#c53030' }}>{error}</div>}\n      </div>\n    </div>\n  );\n};\n\nexport default PaymentGateway;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}